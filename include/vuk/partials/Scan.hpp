#pragma once

#include "vuk/Future.hpp"
#include "vuk/SPIRVTemplate.hpp"
#include "vuk/partials/StaticComputePBI.hpp"

namespace vuk {
	namespace detail {
		template<class T1>
		struct SPIRVScan : public spirv::SPIRVTemplate<SPIRVScan<T1>> {
			static constexpr const uint32_t template_bytes[] = {
				0x07230203, 0x00010400, 0x0008000a, 0x000002f1, 0x00000000, 0x00020011, 0x00000001, 0x0006000b, 0x00000001, 0x4c534c47, 0x6474732e, 0x3035342e,
				0x00000000, 0x0003000e, 0x00000000, 0x00000001, 0x000f000f, 0x00000005, 0x00000004, 0x6e69616d, 0x00000000, 0x00000015, 0x00000034, 0x0000003e,
				0x00000044, 0x0000004f, 0x0000005a, 0x00000063, 0x000000d3, 0x000000d4, 0x0000011d, 0x00060010, 0x00000004, 0x00000011, 0x00000100, 0x00000001,
				0x00000001, 0x00030003, 0x00000002, 0x000001c2, 0x00090004, 0x4b5f4c47, 0x735f5248, 0x65646168, 0x75735f72, 0x6f726762, 0x625f7075, 0x63697361,
				0x00000000, 0x00040005, 0x00000004, 0x6e69616d, 0x00000000, 0x00070005, 0x0000000b, 0x656e696c, 0x695f7261, 0x7865646e, 0x33757628, 0x0000003b,
				0x00030005, 0x0000000a, 0x00006469, 0x00050005, 0x00000011, 0x64616f6c, 0x3b317528, 0x00000000, 0x00030005, 0x00000010, 0x00786469, 0x00030005,
				0x00000013, 0x0000706d, 0x00070005, 0x00000015, 0x4e5f6c67, 0x6f576d75, 0x72476b72, 0x7370756f, 0x00000000, 0x00050005, 0x00000032, 0x66667542,
				0x6e497265, 0x00000000, 0x00050006, 0x00000032, 0x00000000, 0x64695f67, 0x00617461, 0x00030005, 0x00000034, 0x00000000, 0x00030005, 0x0000003d,
				0x00646967, 0x00080005, 0x0000003e, 0x475f6c67, 0x61626f6c, 0x766e496c, 0x7461636f, 0x496e6f69, 0x00000044, 0x00040005, 0x0000003f, 0x61726170,
				0x0000006d, 0x00040005, 0x00000042, 0x64696874, 0x00000000, 0x00080005, 0x00000044, 0x4c5f6c67, 0x6c61636f, 0x6f766e49, 0x69746163, 0x6e496e6f,
				0x00786564, 0x00040005, 0x00000047, 0x7366666f, 0x00007465, 0x00030005, 0x00000049, 0x0000006e, 0x00050005, 0x0000004d, 0x66667542, 0x6f437265,
				0x00746e75, 0x00060006, 0x0000004d, 0x00000000, 0x635f6777, 0x746e756f, 0x00000000, 0x00070006, 0x0000004d, 0x00000001, 0x5f706d74, 0x635f6777,
				0x746e756f, 0x00007265, 0x00050006, 0x0000004d, 0x00000002, 0x73756e75, 0x00006465, 0x00050006, 0x0000004d, 0x00000003, 0x6e756f63, 0x00000074,
				0x00030005, 0x0000004f, 0x00000000, 0x00030005, 0x00000058, 0x00734350, 0x00050006, 0x00000058, 0x00000000, 0x5f657375, 0x00006e66, 0x00030005,
				0x0000005a, 0x00000000, 0x00040005, 0x00000063, 0x706d6574, 0x00000000, 0x00040005, 0x00000068, 0x61726170, 0x0000006d, 0x00040005, 0x0000008c,
				0x61726170, 0x0000006d, 0x00030005, 0x0000009e, 0x00000064, 0x00030005, 0x000000ae, 0x00006961, 0x00030005, 0x000000b6, 0x00006962, 0x00040005,
				0x000000d1, 0x706d6554, 0x00000000, 0x00070006, 0x000000d1, 0x00000000, 0x5f74756f, 0x635f6777, 0x746e756f, 0x00000000, 0x00060006, 0x000000d1,
				0x00000001, 0x5f74756f, 0x73756e75, 0x00006465, 0x00060006, 0x000000d1, 0x00000002, 0x5f74756f, 0x6e756f63, 0x00000074, 0x00050006, 0x000000d1,
				0x00000003, 0x65745f67, 0x0000706d, 0x00030005, 0x000000d3, 0x00000000, 0x00060005, 0x000000d4, 0x575f6c67, 0x476b726f, 0x70756f72, 0x00004449,
				0x00030005, 0x000000df, 0x00000064, 0x00030005, 0x000000f1, 0x00006961, 0x00030005, 0x000000f9, 0x00006962, 0x00030005, 0x00000102, 0x00000074,
				0x00050005, 0x0000011b, 0x66667542, 0x754f7265, 0x00000074, 0x00050006, 0x0000011b, 0x00000000, 0x646f5f67, 0x00617461, 0x00030005, 0x0000011d,
				0x00000000, 0x00030005, 0x0000017a, 0x00000064, 0x00030005, 0x00000189, 0x00006961, 0x00030005, 0x00000191, 0x00006962, 0x00030005, 0x000001ac,
				0x00000064, 0x00030005, 0x000001be, 0x00006961, 0x00030005, 0x000001c6, 0x00006962, 0x00030005, 0x000001ce, 0x00000074, 0x00040047, 0x00000015,
				0x0000000b, 0x00000018, 0x00040047, 0x00000031, 0x00000006, 0x00000004, 0x00040048, 0x00000032, 0x00000000, 0x00000017, 0x00040048, 0x00000032,
				0x00000000, 0x00000018, 0x00050048, 0x00000032, 0x00000000, 0x00000023, 0x00000000, 0x00030047, 0x00000032, 0x00000002, 0x00040047, 0x00000034,
				0x00000022, 0x00000000, 0x00040047, 0x00000034, 0x00000021, 0x00000000, 0x00040047, 0x0000003e, 0x0000000b, 0x0000001c, 0x00040047, 0x00000044,
				0x0000000b, 0x0000001d, 0x00040048, 0x0000004d, 0x00000000, 0x00000018, 0x00050048, 0x0000004d, 0x00000000, 0x00000023, 0x00000000, 0x00050048,
				0x0000004d, 0x00000001, 0x00000023, 0x00000004, 0x00050048, 0x0000004d, 0x00000002, 0x00000023, 0x00000008, 0x00040048, 0x0000004d, 0x00000003,
				0x00000018, 0x00050048, 0x0000004d, 0x00000003, 0x00000023, 0x0000000c, 0x00030047, 0x0000004d, 0x00000002, 0x00040047, 0x0000004f, 0x00000022,
				0x00000000, 0x00040047, 0x0000004f, 0x00000021, 0x00000004, 0x00050048, 0x00000058, 0x00000000, 0x00000023, 0x00000000, 0x00030047, 0x00000058,
				0x00000002, 0x00040047, 0x000000cf, 0x00000006, 0x00000004, 0x00040047, 0x000000d0, 0x00000006, 0x00000004, 0x00040048, 0x000000d1, 0x00000000,
				0x00000017, 0x00050048, 0x000000d1, 0x00000000, 0x00000023, 0x00000000, 0x00040048, 0x000000d1, 0x00000001, 0x00000017, 0x00050048, 0x000000d1,
				0x00000001, 0x00000023, 0x00000004, 0x00040048, 0x000000d1, 0x00000002, 0x00000017, 0x00050048, 0x000000d1, 0x00000002, 0x00000023, 0x0000000c,
				0x00040048, 0x000000d1, 0x00000003, 0x00000017, 0x00050048, 0x000000d1, 0x00000003, 0x00000023, 0x00000010, 0x00030047, 0x000000d1, 0x00000002,
				0x00040047, 0x000000d3, 0x00000022, 0x00000000, 0x00040047, 0x000000d3, 0x00000021, 0x00000002, 0x00040047, 0x000000d4, 0x0000000b, 0x0000001a,
				0x00040047, 0x0000011a, 0x00000006, 0x00000004, 0x00040048, 0x0000011b, 0x00000000, 0x00000017, 0x00050048, 0x0000011b, 0x00000000, 0x00000023,
				0x00000000, 0x00030047, 0x0000011b, 0x00000002, 0x00040047, 0x0000011d, 0x00000022, 0x00000000, 0x00040047, 0x0000011d, 0x00000021, 0x00000001,
				0x00040047, 0x00000019, 0x0000000b, 0x00000019, 0x00020013, 0x00000002, 0x00030021, 0x00000003, 0x00000002, 0x00040015, 0x00000006, 0x00000020,
				0x00000000, 0x00040017, 0x00000007, 0x00000006, 0x00000003, 0x00040020, 0x00000008, 0x00000007, 0x00000007, 0x00040021, 0x00000009, 0x00000006,
				0x00000008, 0x00040020, 0x0000000d, 0x00000007, 0x00000006, 0x00030016, 0x0000000e, 0x00000020, 0x00040021, 0x0000000f, 0x0000000e, 0x0000000d,
				0x00040020, 0x00000014, 0x00000001, 0x00000007, 0x0004003b, 0x00000014, 0x00000015, 0x00000001, 0x0004002b, 0x00000006, 0x00000017, 0x00000100,
				0x0004002b, 0x00000006, 0x00000018, 0x00000001, 0x0006002c, 0x00000007, 0x00000019, 0x00000017, 0x00000018, 0x00000018, 0x0004002b, 0x00000006,
				0x0000001b, 0x00000002, 0x0004002b, 0x00000006, 0x00000021, 0x00000000, 0x0003001d, 0x00000031, 0x0000000e, 0x0003001e, 0x00000032, 0x00000031,
				0x00040020, 0x00000033, 0x0000000c, 0x00000032, 0x0004003b, 0x00000033, 0x00000034, 0x0000000c, 0x00040015, 0x00000035, 0x00000020, 0x00000001,
				0x0004002b, 0x00000035, 0x00000036, 0x00000000, 0x00040020, 0x00000038, 0x0000000c, 0x0000000e, 0x0004003b, 0x00000014, 0x0000003e, 0x00000001,
				0x00040020, 0x00000043, 0x00000001, 0x00000006, 0x0004003b, 0x00000043, 0x00000044, 0x00000001, 0x00040020, 0x00000046, 0x00000007, 0x00000035,
				0x0004002b, 0x00000035, 0x00000048, 0x00000001, 0x0004002b, 0x00000006, 0x0000004a, 0x00000200, 0x0006001e, 0x0000004d, 0x00000006, 0x00000006,
				0x00000006, 0x00000006, 0x00040020, 0x0000004e, 0x0000000c, 0x0000004d, 0x0004003b, 0x0000004e, 0x0000004f, 0x0000000c, 0x0004002b, 0x00000035,
				0x00000050, 0x00000003, 0x00040020, 0x00000051, 0x0000000c, 0x00000006, 0x00020014, 0x00000054, 0x0003001e, 0x00000058, 0x00000006, 0x00040020,
				0x00000059, 0x00000009, 0x00000058, 0x0004003b, 0x00000059, 0x0000005a, 0x00000009, 0x00040020, 0x0000005b, 0x00000009, 0x00000006, 0x0004001c,
				0x00000061, 0x0000000e, 0x0000004a, 0x00040020, 0x00000062, 0x00000004, 0x00000061, 0x0004003b, 0x00000062, 0x00000063, 0x00000004, 0x00040020,
				0x0000006a, 0x00000004, 0x0000000e, 0x0004002b, 0x0000000e, 0x00000077, 0x00000000, 0x0004002b, 0x00000006, 0x000000a8, 0x00000108, 0x0004002b,
				0x00000035, 0x000000c6, 0x00000002, 0x0004001c, 0x000000cf, 0x00000006, 0x0000001b, 0x0003001d, 0x000000d0, 0x0000000e, 0x0006001e, 0x000000d1,
				0x00000006, 0x000000cf, 0x00000006, 0x000000d0, 0x00040020, 0x000000d2, 0x0000000c, 0x000000d1, 0x0004003b, 0x000000d2, 0x000000d3, 0x0000000c,
				0x0004003b, 0x00000014, 0x000000d4, 0x00000001, 0x00040020, 0x00000101, 0x00000007, 0x0000000e, 0x0003001d, 0x0000011a, 0x0000000e, 0x0003001e,
				0x0000011b, 0x0000011a, 0x00040020, 0x0000011c, 0x0000000c, 0x0000011b, 0x0004003b, 0x0000011c, 0x0000011d, 0x0000000c, 0x0004002b, 0x0000000e,
				0x00000142, 0x3f800000, 0x0004002b, 0x00000006, 0x0000014c, 0x00000d48, 0x0004002b, 0x00000006, 0x0000014f, 0x00040000, 0x00050036, 0x00000002,
				0x00000004, 0x00000000, 0x00000003, 0x000200f8, 0x00000005, 0x0004003b, 0x0000000d, 0x0000003d, 0x00000007, 0x0004003b, 0x00000008, 0x0000003f,
				0x00000007, 0x0004003b, 0x0000000d, 0x00000042, 0x00000007, 0x0004003b, 0x00000046, 0x00000047, 0x00000007, 0x0004003b, 0x0000000d, 0x00000049,
				0x00000007, 0x0004003b, 0x0000000d, 0x00000068, 0x00000007, 0x0004003b, 0x0000000d, 0x0000008c, 0x00000007, 0x0004003b, 0x0000000d, 0x0000009e,
				0x00000007, 0x0004003b, 0x0000000d, 0x000000ae, 0x00000007, 0x0004003b, 0x0000000d, 0x000000b6, 0x00000007, 0x0004003b, 0x00000046, 0x000000df,
				0x00000007, 0x0004003b, 0x0000000d, 0x000000f1, 0x00000007, 0x0004003b, 0x0000000d, 0x000000f9, 0x00000007, 0x0004003b, 0x00000101, 0x00000102,
				0x00000007, 0x0004003b, 0x0000000d, 0x0000017a, 0x00000007, 0x0004003b, 0x0000000d, 0x00000189, 0x00000007, 0x0004003b, 0x0000000d, 0x00000191,
				0x00000007, 0x0004003b, 0x00000046, 0x000001ac, 0x00000007, 0x0004003b, 0x0000000d, 0x000001be, 0x00000007, 0x0004003b, 0x0000000d, 0x000001c6,
				0x00000007, 0x0004003b, 0x00000101, 0x000001ce, 0x00000007, 0x0004003d, 0x00000007, 0x00000040, 0x0000003e, 0x0003003e, 0x0000003f, 0x00000040,
				0x00050039, 0x00000006, 0x00000041, 0x0000000b, 0x0000003f, 0x0003003e, 0x0000003d, 0x00000041, 0x0004003d, 0x00000006, 0x00000045, 0x00000044,
				0x0003003e, 0x00000042, 0x00000045, 0x0003003e, 0x00000047, 0x00000048, 0x0003003e, 0x00000049, 0x0000004a, 0x0004003d, 0x00000006, 0x0000004b,
				0x0000003d, 0x00050084, 0x00000006, 0x0000004c, 0x0000001b, 0x0000004b, 0x00050041, 0x00000051, 0x00000052, 0x0000004f, 0x00000050, 0x0004003d,
				0x00000006, 0x00000053, 0x00000052, 0x000500b0, 0x00000054, 0x00000055, 0x0000004c, 0x00000053, 0x000300f7, 0x00000057, 0x00000000, 0x000400fa,
				0x00000055, 0x00000056, 0x00000074, 0x000200f8, 0x00000056, 0x00050041, 0x0000005b, 0x0000005c, 0x0000005a, 0x00000036, 0x0004003d, 0x00000006,
				0x0000005d, 0x0000005c, 0x000500aa, 0x00000054, 0x0000005e, 0x0000005d, 0x00000018, 0x000300f7, 0x00000060, 0x00000000, 0x000400fa, 0x0000005e,
				0x0000005f, 0x0000006c, 0x000200f8, 0x0000005f, 0x0004003d, 0x00000006, 0x00000064, 0x00000042, 0x00050084, 0x00000006, 0x00000065, 0x0000001b,
				0x00000064, 0x0004003d, 0x00000006, 0x00000066, 0x0000003d, 0x00050084, 0x00000006, 0x00000067, 0x0000001b, 0x00000066, 0x0003003e, 0x00000068,
				0x00000067, 0x00050039, 0x0000000e, 0x00000069, 0x00000011, 0x00000068, 0x00050041, 0x0000006a, 0x0000006b, 0x00000063, 0x00000065, 0x0003003e,
				0x0000006b, 0x00000069, 0x000200f9, 0x00000060, 0x000200f8, 0x0000006c, 0x0004003d, 0x00000006, 0x0000006d, 0x00000042, 0x00050084, 0x00000006,
				0x0000006e, 0x0000001b, 0x0000006d, 0x0004003d, 0x00000006, 0x0000006f, 0x0000003d, 0x00050084, 0x00000006, 0x00000070, 0x0000001b, 0x0000006f,
				0x00060041, 0x00000038, 0x00000071, 0x00000034, 0x00000036, 0x00000070, 0x0004003d, 0x0000000e, 0x00000072, 0x00000071, 0x00050041, 0x0000006a,
				0x00000073, 0x00000063, 0x0000006e, 0x0003003e, 0x00000073, 0x00000072, 0x000200f9, 0x00000060, 0x000200f8, 0x00000060, 0x000200f9, 0x00000057,
				0x000200f8, 0x00000074, 0x0004003d, 0x00000006, 0x00000075, 0x00000042, 0x00050084, 0x00000006, 0x00000076, 0x0000001b, 0x00000075, 0x00050041,
				0x0000006a, 0x00000078, 0x00000063, 0x00000076, 0x0003003e, 0x00000078, 0x00000077, 0x000200f9, 0x00000057, 0x000200f8, 0x00000057, 0x0004003d,
				0x00000006, 0x00000079, 0x0000003d, 0x00050084, 0x00000006, 0x0000007a, 0x0000001b, 0x00000079, 0x00050080, 0x00000006, 0x0000007b, 0x0000007a,
				0x00000018, 0x00050041, 0x00000051, 0x0000007c, 0x0000004f, 0x00000050, 0x0004003d, 0x00000006, 0x0000007d, 0x0000007c, 0x000500b0, 0x00000054,
				0x0000007e, 0x0000007b, 0x0000007d, 0x000300f7, 0x00000080, 0x00000000, 0x000400fa, 0x0000007e, 0x0000007f, 0x00000099, 0x000200f8, 0x0000007f,
				0x00050041, 0x0000005b, 0x00000081, 0x0000005a, 0x00000036, 0x0004003d, 0x00000006, 0x00000082, 0x00000081, 0x000500aa, 0x00000054, 0x00000083,
				0x00000082, 0x00000018, 0x000300f7, 0x00000085, 0x00000000, 0x000400fa, 0x00000083, 0x00000084, 0x0000008f, 0x000200f8, 0x00000084, 0x0004003d,
				0x00000006, 0x00000086, 0x00000042, 0x00050084, 0x00000006, 0x00000087, 0x0000001b, 0x00000086, 0x00050080, 0x00000006, 0x00000088, 0x00000087,
				0x00000018, 0x0004003d, 0x00000006, 0x00000089, 0x0000003d, 0x00050084, 0x00000006, 0x0000008a, 0x0000001b, 0x00000089, 0x00050080, 0x00000006,
				0x0000008b, 0x0000008a, 0x00000018, 0x0003003e, 0x0000008c, 0x0000008b, 0x00050039, 0x0000000e, 0x0000008d, 0x00000011, 0x0000008c, 0x00050041,
				0x0000006a, 0x0000008e, 0x00000063, 0x00000088, 0x0003003e, 0x0000008e, 0x0000008d, 0x000200f9, 0x00000085, 0x000200f8, 0x0000008f, 0x0004003d,
				0x00000006, 0x00000090, 0x00000042, 0x00050084, 0x00000006, 0x00000091, 0x0000001b, 0x00000090, 0x00050080, 0x00000006, 0x00000092, 0x00000091,
				0x00000018, 0x0004003d, 0x00000006, 0x00000093, 0x0000003d, 0x00050084, 0x00000006, 0x00000094, 0x0000001b, 0x00000093, 0x00050080, 0x00000006,
				0x00000095, 0x00000094, 0x00000018, 0x00060041, 0x00000038, 0x00000096, 0x00000034, 0x00000036, 0x00000095, 0x0004003d, 0x0000000e, 0x00000097,
				0x00000096, 0x00050041, 0x0000006a, 0x00000098, 0x00000063, 0x00000092, 0x0003003e, 0x00000098, 0x00000097, 0x000200f9, 0x00000085, 0x000200f8,
				0x00000085, 0x000200f9, 0x00000080, 0x000200f8, 0x00000099, 0x0004003d, 0x00000006, 0x0000009a, 0x00000042, 0x00050084, 0x00000006, 0x0000009b,
				0x0000001b, 0x0000009a, 0x00050080, 0x00000006, 0x0000009c, 0x0000009b, 0x00000018, 0x00050041, 0x0000006a, 0x0000009d, 0x00000063, 0x0000009c,
				0x0003003e, 0x0000009d, 0x00000077, 0x000200f9, 0x00000080, 0x000200f8, 0x00000080, 0x0004003d, 0x00000006, 0x0000009f, 0x00000049, 0x000500c2,
				0x00000006, 0x000000a0, 0x0000009f, 0x00000048, 0x0003003e, 0x0000009e, 0x000000a0, 0x000200f9, 0x000000a1, 0x000200f8, 0x000000a1, 0x000400f6,
				0x000000a3, 0x000000a4, 0x00000000, 0x000200f9, 0x000000a5, 0x000200f8, 0x000000a5, 0x0004003d, 0x00000006, 0x000000a6, 0x0000009e, 0x000500ac,
				0x00000054, 0x000000a7, 0x000000a6, 0x00000021, 0x000400fa, 0x000000a7, 0x000000a2, 0x000000a3, 0x000200f8, 0x000000a2, 0x000400e0, 0x0000001b,
				0x0000001b, 0x000000a8, 0x0004003d, 0x00000006, 0x000000a9, 0x00000042, 0x0004003d, 0x00000006, 0x000000aa, 0x0000009e, 0x000500b0, 0x00000054,
				0x000000ab, 0x000000a9, 0x000000aa, 0x000300f7, 0x000000ad, 0x00000000, 0x000400fa, 0x000000ab, 0x000000ac, 0x000000ad, 0x000200f8, 0x000000ac,
				0x0004003d, 0x00000035, 0x000000af, 0x00000047, 0x0004007c, 0x00000006, 0x000000b0, 0x000000af, 0x0004003d, 0x00000006, 0x000000b1, 0x00000042,
				0x00050084, 0x00000006, 0x000000b2, 0x0000001b, 0x000000b1, 0x00050080, 0x00000006, 0x000000b3, 0x000000b2, 0x00000018, 0x00050084, 0x00000006,
				0x000000b4, 0x000000b0, 0x000000b3, 0x00050082, 0x00000006, 0x000000b5, 0x000000b4, 0x00000018, 0x0003003e, 0x000000ae, 0x000000b5, 0x0004003d,
				0x00000035, 0x000000b7, 0x00000047, 0x0004007c, 0x00000006, 0x000000b8, 0x000000b7, 0x0004003d, 0x00000006, 0x000000b9, 0x00000042, 0x00050084,
				0x00000006, 0x000000ba, 0x0000001b, 0x000000b9, 0x00050080, 0x00000006, 0x000000bb, 0x000000ba, 0x0000001b, 0x00050084, 0x00000006, 0x000000bc,
				0x000000b8, 0x000000bb, 0x00050082, 0x00000006, 0x000000bd, 0x000000bc, 0x00000018, 0x0003003e, 0x000000b6, 0x000000bd, 0x0004003d, 0x00000006,
				0x000000be, 0x000000b6, 0x0004003d, 0x00000006, 0x000000bf, 0x000000ae, 0x00050041, 0x0000006a, 0x000000c0, 0x00000063, 0x000000bf, 0x0004003d,
				0x0000000e, 0x000000c1, 0x000000c0, 0x00050041, 0x0000006a, 0x000000c2, 0x00000063, 0x000000be, 0x0004003d, 0x0000000e, 0x000000c3, 0x000000c2,
				0x00050081, 0x0000000e, 0x000000c4, 0x000000c3, 0x000000c1, 0x00050041, 0x0000006a, 0x000000c5, 0x00000063, 0x000000be, 0x0003003e, 0x000000c5,
				0x000000c4, 0x000200f9, 0x000000ad, 0x000200f8, 0x000000ad, 0x0004003d, 0x00000035, 0x000000c7, 0x00000047, 0x00050084, 0x00000035, 0x000000c8,
				0x000000c7, 0x000000c6, 0x0003003e, 0x00000047, 0x000000c8, 0x000200f9, 0x000000a4, 0x000200f8, 0x000000a4, 0x0004003d, 0x00000006, 0x000000c9,
				0x0000009e, 0x000500c2, 0x00000006, 0x000000ca, 0x000000c9, 0x00000048, 0x0003003e, 0x0000009e, 0x000000ca, 0x000200f9, 0x000000a1, 0x000200f8,
				0x000000a3, 0x0004003d, 0x00000006, 0x000000cb, 0x00000042, 0x000500aa, 0x00000054, 0x000000cc, 0x000000cb, 0x00000021, 0x000300f7, 0x000000ce,
				0x00000000, 0x000400fa, 0x000000cc, 0x000000cd, 0x000000ce, 0x000200f8, 0x000000cd, 0x00050041, 0x00000043, 0x000000d5, 0x000000d4, 0x00000021,
				0x0004003d, 0x00000006, 0x000000d6, 0x000000d5, 0x0004003d, 0x00000006, 0x000000d7, 0x00000049, 0x00050082, 0x00000006, 0x000000d8, 0x000000d7,
				0x00000018, 0x00050041, 0x0000006a, 0x000000d9, 0x00000063, 0x000000d8, 0x0004003d, 0x0000000e, 0x000000da, 0x000000d9, 0x00060041, 0x00000038,
				0x000000db, 0x000000d3, 0x00000050, 0x000000d6, 0x0003003e, 0x000000db, 0x000000da, 0x0004003d, 0x00000006, 0x000000dc, 0x00000049, 0x00050082,
				0x00000006, 0x000000dd, 0x000000dc, 0x00000018, 0x00050041, 0x0000006a, 0x000000de, 0x00000063, 0x000000dd, 0x0003003e, 0x000000de, 0x00000077,
				0x000200f9, 0x000000ce, 0x000200f8, 0x000000ce, 0x0003003e, 0x000000df, 0x00000048, 0x000200f9, 0x000000e0, 0x000200f8, 0x000000e0, 0x000400f6,
				0x000000e2, 0x000000e3, 0x00000000, 0x000200f9, 0x000000e4, 0x000200f8, 0x000000e4, 0x0004003d, 0x00000035, 0x000000e5, 0x000000df, 0x0004007c,
				0x00000006, 0x000000e6, 0x000000e5, 0x0004003d, 0x00000006, 0x000000e7, 0x00000049, 0x000500b0, 0x00000054, 0x000000e8, 0x000000e6, 0x000000e7,
				0x000400fa, 0x000000e8, 0x000000e1, 0x000000e2, 0x000200f8, 0x000000e1, 0x0004003d, 0x00000035, 0x000000e9, 0x00000047, 0x000500c3, 0x00000035,
				0x000000ea, 0x000000e9, 0x00000048, 0x0003003e, 0x00000047, 0x000000ea, 0x000400e0, 0x0000001b, 0x0000001b, 0x000000a8, 0x0004003d, 0x00000006,
				0x000000eb, 0x00000042, 0x0004003d, 0x00000035, 0x000000ec, 0x000000df, 0x0004007c, 0x00000006, 0x000000ed, 0x000000ec, 0x000500b0, 0x00000054,
				0x000000ee, 0x000000eb, 0x000000ed, 0x000300f7, 0x000000f0, 0x00000000, 0x000400fa, 0x000000ee, 0x000000ef, 0x000000f0, 0x000200f8, 0x000000ef,
				0x0004003d, 0x00000035, 0x000000f2, 0x00000047, 0x0004007c, 0x00000006, 0x000000f3, 0x000000f2, 0x0004003d, 0x00000006, 0x000000f4, 0x00000042,
				0x00050084, 0x00000006, 0x000000f5, 0x0000001b, 0x000000f4, 0x00050080, 0x00000006, 0x000000f6, 0x000000f5, 0x00000018, 0x00050084, 0x00000006,
				0x000000f7, 0x000000f3, 0x000000f6, 0x00050082, 0x00000006, 0x000000f8, 0x000000f7, 0x00000018, 0x0003003e, 0x000000f1, 0x000000f8, 0x0004003d,
				0x00000035, 0x000000fa, 0x00000047, 0x0004007c, 0x00000006, 0x000000fb, 0x000000fa, 0x0004003d, 0x00000006, 0x000000fc, 0x00000042, 0x00050084,
				0x00000006, 0x000000fd, 0x0000001b, 0x000000fc, 0x00050080, 0x00000006, 0x000000fe, 0x000000fd, 0x0000001b, 0x00050084, 0x00000006, 0x000000ff,
				0x000000fb, 0x000000fe, 0x00050082, 0x00000006, 0x00000100, 0x000000ff, 0x00000018, 0x0003003e, 0x000000f9, 0x00000100, 0x0004003d, 0x00000006,
				0x00000103, 0x000000f1, 0x00050041, 0x0000006a, 0x00000104, 0x00000063, 0x00000103, 0x0004003d, 0x0000000e, 0x00000105, 0x00000104, 0x0003003e,
				0x00000102, 0x00000105, 0x0004003d, 0x00000006, 0x00000106, 0x000000f1, 0x0004003d, 0x00000006, 0x00000107, 0x000000f9, 0x00050041, 0x0000006a,
				0x00000108, 0x00000063, 0x00000107, 0x0004003d, 0x0000000e, 0x00000109, 0x00000108, 0x00050041, 0x0000006a, 0x0000010a, 0x00000063, 0x00000106,
				0x0003003e, 0x0000010a, 0x00000109, 0x0004003d, 0x00000006, 0x0000010b, 0x000000f9, 0x0004003d, 0x0000000e, 0x0000010c, 0x00000102, 0x00050041,
				0x0000006a, 0x0000010d, 0x00000063, 0x0000010b, 0x0004003d, 0x0000000e, 0x0000010e, 0x0000010d, 0x00050081, 0x0000000e, 0x0000010f, 0x0000010e,
				0x0000010c, 0x00050041, 0x0000006a, 0x00000110, 0x00000063, 0x0000010b, 0x0003003e, 0x00000110, 0x0000010f, 0x000200f9, 0x000000f0, 0x000200f8,
				0x000000f0, 0x000200f9, 0x000000e3, 0x000200f8, 0x000000e3, 0x0004003d, 0x00000035, 0x00000111, 0x000000df, 0x00050084, 0x00000035, 0x00000112,
				0x00000111, 0x000000c6, 0x0003003e, 0x000000df, 0x00000112, 0x000200f9, 0x000000e0, 0x000200f8, 0x000000e2, 0x0004003d, 0x00000006, 0x00000113,
				0x0000003d, 0x00050084, 0x00000006, 0x00000114, 0x0000001b, 0x00000113, 0x00050041, 0x00000051, 0x00000115, 0x0000004f, 0x00000050, 0x0004003d,
				0x00000006, 0x00000116, 0x00000115, 0x000500b0, 0x00000054, 0x00000117, 0x00000114, 0x00000116, 0x000300f7, 0x00000119, 0x00000000, 0x000400fa,
				0x00000117, 0x00000118, 0x00000119, 0x000200f8, 0x00000118, 0x0004003d, 0x00000006, 0x0000011e, 0x0000003d, 0x00050084, 0x00000006, 0x0000011f,
				0x0000001b, 0x0000011e, 0x0004003d, 0x00000006, 0x00000120, 0x00000042, 0x00050084, 0x00000006, 0x00000121, 0x0000001b, 0x00000120, 0x00050041,
				0x0000006a, 0x00000122, 0x00000063, 0x00000121, 0x0004003d, 0x0000000e, 0x00000123, 0x00000122, 0x00060041, 0x00000038, 0x00000124, 0x0000011d,
				0x00000036, 0x0000011f, 0x0003003e, 0x00000124, 0x00000123, 0x000200f9, 0x00000119, 0x000200f8, 0x00000119, 0x0004003d, 0x00000006, 0x00000125,
				0x0000003d, 0x00050084, 0x00000006, 0x00000126, 0x0000001b, 0x00000125, 0x00050080, 0x00000006, 0x00000127, 0x00000126, 0x00000018, 0x00050041,
				0x00000051, 0x00000128, 0x0000004f, 0x00000050, 0x0004003d, 0x00000006, 0x00000129, 0x00000128, 0x000500b0, 0x00000054, 0x0000012a, 0x00000127,
				0x00000129, 0x000300f7, 0x0000012c, 0x00000000, 0x000400fa, 0x0000012a, 0x0000012b, 0x0000012c, 0x000200f8, 0x0000012b, 0x0004003d, 0x00000006,
				0x0000012d, 0x0000003d, 0x00050084, 0x00000006, 0x0000012e, 0x0000001b, 0x0000012d, 0x00050080, 0x00000006, 0x0000012f, 0x0000012e, 0x00000018,
				0x0004003d, 0x00000006, 0x00000130, 0x00000042, 0x00050084, 0x00000006, 0x00000131, 0x0000001b, 0x00000130, 0x00050080, 0x00000006, 0x00000132,
				0x00000131, 0x00000018, 0x00050041, 0x0000006a, 0x00000133, 0x00000063, 0x00000132, 0x0004003d, 0x0000000e, 0x00000134, 0x00000133, 0x00060041,
				0x00000038, 0x00000135, 0x0000011d, 0x00000036, 0x0000012f, 0x0003003e, 0x00000135, 0x00000134, 0x000200f9, 0x0000012c, 0x000200f8, 0x0000012c,
				0x0004003d, 0x00000006, 0x00000136, 0x00000044, 0x000500aa, 0x00000054, 0x00000137, 0x00000136, 0x00000021, 0x000300f7, 0x00000139, 0x00000000,
				0x000400fa, 0x00000137, 0x00000138, 0x00000139, 0x000200f8, 0x00000138, 0x00050041, 0x0000006a, 0x0000013a, 0x00000063, 0x00000036, 0x0003003e,
				0x0000013a, 0x00000077, 0x00050041, 0x00000051, 0x0000013b, 0x0000004f, 0x00000048, 0x000700ea, 0x00000006, 0x0000013c, 0x0000013b, 0x00000018,
				0x00000021, 0x00000018, 0x00050041, 0x00000043, 0x0000013d, 0x00000015, 0x00000021, 0x0004003d, 0x00000006, 0x0000013e, 0x0000013d, 0x000500ab,
				0x00000054, 0x0000013f, 0x0000013c, 0x0000013e, 0x000300f7, 0x00000141, 0x00000000, 0x000400fa, 0x0000013f, 0x00000140, 0x00000141, 0x000200f8,
				0x00000140, 0x00050041, 0x0000006a, 0x00000143, 0x00000063, 0x00000036, 0x0003003e, 0x00000143, 0x00000142, 0x000200f9, 0x00000141, 0x000200f8,
				0x00000141, 0x000200f9, 0x00000139, 0x000200f8, 0x00000139, 0x000400e0, 0x0000001b, 0x0000001b, 0x000000a8, 0x00050041, 0x0000006a, 0x00000144,
				0x00000063, 0x00000036, 0x0004003d, 0x0000000e, 0x00000145, 0x00000144, 0x000500b4, 0x00000054, 0x00000146, 0x00000145, 0x00000142, 0x000300f7,
				0x00000148, 0x00000000, 0x000400fa, 0x00000146, 0x00000147, 0x00000148, 0x000200f8, 0x00000147, 0x000100fd, 0x000200f8, 0x00000148, 0x00050041,
				0x00000051, 0x0000014a, 0x0000004f, 0x00000048, 0x000700e5, 0x00000006, 0x0000014b, 0x0000014a, 0x00000018, 0x00000021, 0x00000018, 0x000300e1,
				0x00000018, 0x0000014c, 0x00050041, 0x00000051, 0x0000014d, 0x0000004f, 0x00000050, 0x0004003d, 0x00000006, 0x0000014e, 0x0000014d, 0x000500ac,
				0x00000054, 0x00000150, 0x0000014e, 0x0000014f, 0x000300f7, 0x00000152, 0x00000000, 0x000400fa, 0x00000150, 0x00000151, 0x00000152, 0x000200f8,
				0x00000151, 0x0004003d, 0x00000006, 0x00000153, 0x00000044, 0x000500aa, 0x00000054, 0x00000154, 0x00000153, 0x00000021, 0x000300f7, 0x00000156,
				0x00000000, 0x000400fa, 0x00000154, 0x00000155, 0x00000156, 0x000200f8, 0x00000155, 0x00050041, 0x00000051, 0x00000157, 0x0000004f, 0x00000050,
				0x0004003d, 0x00000006, 0x00000158, 0x00000157, 0x00050080, 0x00000006, 0x00000159, 0x00000158, 0x0000014f, 0x00050082, 0x00000006, 0x0000015a,
				0x00000159, 0x00000018, 0x00050086, 0x00000006, 0x0000015b, 0x0000015a, 0x0000014f, 0x00050041, 0x00000051, 0x0000015c, 0x000000d3, 0x00000036,
				0x0003003e, 0x0000015c, 0x0000015b, 0x00060041, 0x00000051, 0x0000015d, 0x000000d3, 0x00000048, 0x00000036, 0x0003003e, 0x0000015d, 0x00000018,
				0x00060041, 0x00000051, 0x0000015e, 0x000000d3, 0x00000048, 0x00000048, 0x0003003e, 0x0000015e, 0x00000018, 0x00050041, 0x00000051, 0x0000015f,
				0x0000004f, 0x00000050, 0x0004003d, 0x00000006, 0x00000160, 0x0000015f, 0x00050080, 0x00000006, 0x00000161, 0x00000160, 0x0000004a, 0x00050082,
				0x00000006, 0x00000162, 0x00000161, 0x00000018, 0x00050086, 0x00000006, 0x00000163, 0x00000162, 0x0000004a, 0x00050041, 0x00000051, 0x00000164,
				0x000000d3, 0x000000c6, 0x0003003e, 0x00000164, 0x00000163, 0x000200f9, 0x00000156, 0x000200f8, 0x00000156, 0x000100fd, 0x000200f8, 0x00000152,
				0x00050041, 0x00000051, 0x00000166, 0x0000004f, 0x00000050, 0x0004003d, 0x00000006, 0x00000167, 0x00000166, 0x00050086, 0x00000006, 0x00000168,
				0x00000167, 0x0000004a, 0x0003003e, 0x00000049, 0x00000168, 0x0004003d, 0x00000006, 0x00000169, 0x00000044, 0x0003003e, 0x0000003d, 0x00000169,
				0x0003003e, 0x00000047, 0x00000048, 0x0004003d, 0x00000006, 0x0000016a, 0x00000042, 0x00050084, 0x00000006, 0x0000016b, 0x0000001b, 0x0000016a,
				0x0004003d, 0x00000006, 0x0000016c, 0x0000003d, 0x00050084, 0x00000006, 0x0000016d, 0x0000001b, 0x0000016c, 0x00060041, 0x00000038, 0x0000016e,
				0x000000d3, 0x00000050, 0x0000016d, 0x0004003d, 0x0000000e, 0x0000016f, 0x0000016e, 0x00050041, 0x0000006a, 0x00000170, 0x00000063, 0x0000016b,
				0x0003003e, 0x00000170, 0x0000016f, 0x0004003d, 0x00000006, 0x00000171, 0x00000042, 0x00050084, 0x00000006, 0x00000172, 0x0000001b, 0x00000171,
				0x00050080, 0x00000006, 0x00000173, 0x00000172, 0x00000018, 0x0004003d, 0x00000006, 0x00000174, 0x0000003d, 0x00050084, 0x00000006, 0x00000175,
				0x0000001b, 0x00000174, 0x00050080, 0x00000006, 0x00000176, 0x00000175, 0x00000018, 0x00060041, 0x00000038, 0x00000177, 0x000000d3, 0x00000050,
				0x00000176, 0x0004003d, 0x0000000e, 0x00000178, 0x00000177, 0x00050041, 0x0000006a, 0x00000179, 0x00000063, 0x00000173, 0x0003003e, 0x00000179,
				0x00000178, 0x0004003d, 0x00000006, 0x0000017b, 0x00000049, 0x000500c2, 0x00000006, 0x0000017c, 0x0000017b, 0x00000048, 0x0003003e, 0x0000017a,
				0x0000017c, 0x000200f9, 0x0000017d, 0x000200f8, 0x0000017d, 0x000400f6, 0x0000017f, 0x00000180, 0x00000000, 0x000200f9, 0x00000181, 0x000200f8,
				0x00000181, 0x0004003d, 0x00000006, 0x00000182, 0x0000017a, 0x000500ac, 0x00000054, 0x00000183, 0x00000182, 0x00000021, 0x000400fa, 0x00000183,
				0x0000017e, 0x0000017f, 0x000200f8, 0x0000017e, 0x000400e0, 0x0000001b, 0x0000001b, 0x000000a8, 0x0004003d, 0x00000006, 0x00000184, 0x00000042,
				0x0004003d, 0x00000006, 0x00000185, 0x0000017a, 0x000500b0, 0x00000054, 0x00000186, 0x00000184, 0x00000185, 0x000300f7, 0x00000188, 0x00000000,
				0x000400fa, 0x00000186, 0x00000187, 0x00000188, 0x000200f8, 0x00000187, 0x0004003d, 0x00000035, 0x0000018a, 0x00000047, 0x0004007c, 0x00000006,
				0x0000018b, 0x0000018a, 0x0004003d, 0x00000006, 0x0000018c, 0x00000042, 0x00050084, 0x00000006, 0x0000018d, 0x0000001b, 0x0000018c, 0x00050080,
				0x00000006, 0x0000018e, 0x0000018d, 0x00000018, 0x00050084, 0x00000006, 0x0000018f, 0x0000018b, 0x0000018e, 0x00050082, 0x00000006, 0x00000190,
				0x0000018f, 0x00000018, 0x0003003e, 0x00000189, 0x00000190, 0x0004003d, 0x00000035, 0x00000192, 0x00000047, 0x0004007c, 0x00000006, 0x00000193,
				0x00000192, 0x0004003d, 0x00000006, 0x00000194, 0x00000042, 0x00050084, 0x00000006, 0x00000195, 0x0000001b, 0x00000194, 0x00050080, 0x00000006,
				0x00000196, 0x00000195, 0x0000001b, 0x00050084, 0x00000006, 0x00000197, 0x00000193, 0x00000196, 0x00050082, 0x00000006, 0x00000198, 0x00000197,
				0x00000018, 0x0003003e, 0x00000191, 0x00000198, 0x0004003d, 0x00000006, 0x00000199, 0x00000191, 0x0004003d, 0x00000006, 0x0000019a, 0x00000189,
				0x00050041, 0x0000006a, 0x0000019b, 0x00000063, 0x0000019a, 0x0004003d, 0x0000000e, 0x0000019c, 0x0000019b, 0x00050041, 0x0000006a, 0x0000019d,
				0x00000063, 0x00000199, 0x0004003d, 0x0000000e, 0x0000019e, 0x0000019d, 0x00050081, 0x0000000e, 0x0000019f, 0x0000019e, 0x0000019c, 0x00050041,
				0x0000006a, 0x000001a0, 0x00000063, 0x00000199, 0x0003003e, 0x000001a0, 0x0000019f, 0x000200f9, 0x00000188, 0x000200f8, 0x00000188, 0x0004003d,
				0x00000035, 0x000001a1, 0x00000047, 0x00050084, 0x00000035, 0x000001a2, 0x000001a1, 0x000000c6, 0x0003003e, 0x00000047, 0x000001a2, 0x000200f9,
				0x00000180, 0x000200f8, 0x00000180, 0x0004003d, 0x00000006, 0x000001a3, 0x0000017a, 0x000500c2, 0x00000006, 0x000001a4, 0x000001a3, 0x00000048,
				0x0003003e, 0x0000017a, 0x000001a4, 0x000200f9, 0x0000017d, 0x000200f8, 0x0000017f, 0x0004003d, 0x00000006, 0x000001a5, 0x00000042, 0x000500aa,
				0x00000054, 0x000001a6, 0x000001a5, 0x00000021, 0x000300f7, 0x000001a8, 0x00000000, 0x000400fa, 0x000001a6, 0x000001a7, 0x000001a8, 0x000200f8,
				0x000001a7, 0x0004003d, 0x00000006, 0x000001a9, 0x00000049, 0x00050082, 0x00000006, 0x000001aa, 0x000001a9, 0x00000018, 0x00050041, 0x0000006a,
				0x000001ab, 0x00000063, 0x000001aa, 0x0003003e, 0x000001ab, 0x00000077, 0x000200f9, 0x000001a8, 0x000200f8, 0x000001a8, 0x0003003e, 0x000001ac,
				0x00000048, 0x000200f9, 0x000001ad, 0x000200f8, 0x000001ad, 0x000400f6, 0x000001af, 0x000001b0, 0x00000000, 0x000200f9, 0x000001b1, 0x000200f8,
				0x000001b1, 0x0004003d, 0x00000035, 0x000001b2, 0x000001ac, 0x0004007c, 0x00000006, 0x000001b3, 0x000001b2, 0x0004003d, 0x00000006, 0x000001b4,
				0x00000049, 0x000500b0, 0x00000054, 0x000001b5, 0x000001b3, 0x000001b4, 0x000400fa, 0x000001b5, 0x000001ae, 0x000001af, 0x000200f8, 0x000001ae,
				0x0004003d, 0x00000035, 0x000001b6, 0x00000047, 0x000500c3, 0x00000035, 0x000001b7, 0x000001b6, 0x00000048, 0x0003003e, 0x00000047, 0x000001b7,
				0x000400e0, 0x0000001b, 0x0000001b, 0x000000a8, 0x0004003d, 0x00000006, 0x000001b8, 0x00000042, 0x0004003d, 0x00000035, 0x000001b9, 0x000001ac,
				0x0004007c, 0x00000006, 0x000001ba, 0x000001b9, 0x000500b0, 0x00000054, 0x000001bb, 0x000001b8, 0x000001ba, 0x000300f7, 0x000001bd, 0x00000000,
				0x000400fa, 0x000001bb, 0x000001bc, 0x000001bd, 0x000200f8, 0x000001bc, 0x0004003d, 0x00000035, 0x000001bf, 0x00000047, 0x0004007c, 0x00000006,
				0x000001c0, 0x000001bf, 0x0004003d, 0x00000006, 0x000001c1, 0x00000042, 0x00050084, 0x00000006, 0x000001c2, 0x0000001b, 0x000001c1, 0x00050080,
				0x00000006, 0x000001c3, 0x000001c2, 0x00000018, 0x00050084, 0x00000006, 0x000001c4, 0x000001c0, 0x000001c3, 0x00050082, 0x00000006, 0x000001c5,
				0x000001c4, 0x00000018, 0x0003003e, 0x000001be, 0x000001c5, 0x0004003d, 0x00000035, 0x000001c7, 0x00000047, 0x0004007c, 0x00000006, 0x000001c8,
				0x000001c7, 0x0004003d, 0x00000006, 0x000001c9, 0x00000042, 0x00050084, 0x00000006, 0x000001ca, 0x0000001b, 0x000001c9, 0x00050080, 0x00000006,
				0x000001cb, 0x000001ca, 0x0000001b, 0x00050084, 0x00000006, 0x000001cc, 0x000001c8, 0x000001cb, 0x00050082, 0x00000006, 0x000001cd, 0x000001cc,
				0x00000018, 0x0003003e, 0x000001c6, 0x000001cd, 0x0004003d, 0x00000006, 0x000001cf, 0x000001be, 0x00050041, 0x0000006a, 0x000001d0, 0x00000063,
				0x000001cf, 0x0004003d, 0x0000000e, 0x000001d1, 0x000001d0, 0x0003003e, 0x000001ce, 0x000001d1, 0x0004003d, 0x00000006, 0x000001d2, 0x000001be,
				0x0004003d, 0x00000006, 0x000001d3, 0x000001c6, 0x00050041, 0x0000006a, 0x000001d4, 0x00000063, 0x000001d3, 0x0004003d, 0x0000000e, 0x000001d5,
				0x000001d4, 0x00050041, 0x0000006a, 0x000001d6, 0x00000063, 0x000001d2, 0x0003003e, 0x000001d6, 0x000001d5, 0x0004003d, 0x00000006, 0x000001d7,
				0x000001c6, 0x0004003d, 0x0000000e, 0x000001d8, 0x000001ce, 0x00050041, 0x0000006a, 0x000001d9, 0x00000063, 0x000001d7, 0x0004003d, 0x0000000e,
				0x000001da, 0x000001d9, 0x00050081, 0x0000000e, 0x000001db, 0x000001da, 0x000001d8, 0x00050041, 0x0000006a, 0x000001dc, 0x00000063, 0x000001d7,
				0x0003003e, 0x000001dc, 0x000001db, 0x000200f9, 0x000001bd, 0x000200f8, 0x000001bd, 0x000200f9, 0x000001b0, 0x000200f8, 0x000001b0, 0x0004003d,
				0x00000035, 0x000001dd, 0x000001ac, 0x00050084, 0x00000035, 0x000001de, 0x000001dd, 0x000000c6, 0x0003003e, 0x000001ac, 0x000001de, 0x000200f9,
				0x000001ad, 0x000200f8, 0x000001af, 0x000400e0, 0x0000001b, 0x0000001b, 0x000000a8, 0x0004003d, 0x00000006, 0x000001df, 0x0000003d, 0x00050084,
				0x00000006, 0x000001e0, 0x0000001b, 0x000001df, 0x00050080, 0x00000006, 0x000001e1, 0x000001e0, 0x0000004a, 0x0004003d, 0x00000006, 0x000001e2,
				0x00000042, 0x00050084, 0x00000006, 0x000001e3, 0x0000001b, 0x000001e2, 0x00050041, 0x0000006a, 0x000001e4, 0x00000063, 0x000001e3, 0x0004003d,
				0x0000000e, 0x000001e5, 0x000001e4, 0x00060041, 0x00000038, 0x000001e6, 0x000000d3, 0x00000050, 0x000001e1, 0x0003003e, 0x000001e6, 0x000001e5,
				0x0004003d, 0x00000006, 0x000001e7, 0x0000003d, 0x00050084, 0x00000006, 0x000001e8, 0x0000001b, 0x000001e7, 0x00050080, 0x00000006, 0x000001e9,
				0x000001e8, 0x0000004a, 0x00050080, 0x00000006, 0x000001ea, 0x000001e9, 0x00000018, 0x0004003d, 0x00000006, 0x000001eb, 0x00000042, 0x00050084,
				0x00000006, 0x000001ec, 0x0000001b, 0x000001eb, 0x00050080, 0x00000006, 0x000001ed, 0x000001ec, 0x00000018, 0x00050041, 0x0000006a, 0x000001ee,
				0x00000063, 0x000001ed, 0x0004003d, 0x0000000e, 0x000001ef, 0x000001ee, 0x00060041, 0x00000038, 0x000001f0, 0x000000d3, 0x00000050, 0x000001ea,
				0x0003003e, 0x000001f0, 0x000001ef, 0x000100fd, 0x00010038, 0x00050036, 0x00000006, 0x0000000b, 0x00000000, 0x00000009, 0x00030037, 0x00000008,
				0x0000000a, 0x000200f8, 0x0000000c, 0x0004003b, 0x00000008, 0x00000013, 0x00000007, 0x0004003d, 0x00000007, 0x00000016, 0x00000015, 0x00050084,
				0x00000007, 0x0000001a, 0x00000016, 0x00000019, 0x0003003e, 0x00000013, 0x0000001a, 0x00050041, 0x0000000d, 0x0000001c, 0x0000000a, 0x0000001b,
				0x0004003d, 0x00000006, 0x0000001d, 0x0000001c, 0x00050041, 0x0000000d, 0x0000001e, 0x00000013, 0x00000018, 0x0004003d, 0x00000006, 0x0000001f,
				0x0000001e, 0x00050084, 0x00000006, 0x00000020, 0x0000001d, 0x0000001f, 0x00050041, 0x0000000d, 0x00000022, 0x00000013, 0x00000021, 0x0004003d,
				0x00000006, 0x00000023, 0x00000022, 0x00050084, 0x00000006, 0x00000024, 0x00000020, 0x00000023, 0x00050041, 0x0000000d, 0x00000025, 0x0000000a,
				0x00000018, 0x0004003d, 0x00000006, 0x00000026, 0x00000025, 0x00050041, 0x0000000d, 0x00000027, 0x00000013, 0x00000021, 0x0004003d, 0x00000006,
				0x00000028, 0x00000027, 0x00050084, 0x00000006, 0x00000029, 0x00000026, 0x00000028, 0x00050080, 0x00000006, 0x0000002a, 0x00000024, 0x00000029,
				0x00050041, 0x0000000d, 0x0000002b, 0x0000000a, 0x00000021, 0x0004003d, 0x00000006, 0x0000002c, 0x0000002b, 0x00050084, 0x00000006, 0x0000002d,
				0x0000002c, 0x00000018, 0x00050080, 0x00000006, 0x0000002e, 0x0000002a, 0x0000002d, 0x000200fe, 0x0000002e, 0x00010038, 0x00050036, 0x0000000e,
				0x00000011, 0x00000000, 0x0000000f, 0x00030037, 0x0000000d, 0x00000010, 0x000200f8, 0x00000012, 0x0004003d, 0x00000006, 0x00000037, 0x00000010,
				0x00060041, 0x00000038, 0x00000039, 0x00000034, 0x00000036, 0x00000037, 0x0004003d, 0x0000000e, 0x0000003a, 0x00000039, 0x000200fe, 0x0000003a,
				0x00010038
			};
			static constexpr uint32_t max_id = 500;
			static constexpr std::array predef_types = { spirv::SPIRType{ spirv::type_name<spirv::Type<uint32_t>>(), 6u },
				                                           spirv::SPIRType{ spirv::type_name<spirv::Type<bool>>(), 84u },
				                                           spirv::SPIRType{ spirv::type_name<spirv::Type<float>>(), 14u } };

			static constexpr std::span prelude = std::span(template_bytes, 0x0000040 / 4);
			static constexpr std::span prologue = std::span(template_bytes + 0x0000007c / 4, 0x00000700 / 4 - 0x0000007c / 4);
			static constexpr std::span builtin_decls = std::span(template_bytes + 0x00000700 / 4, 0x00000aa8 / 4 - 0x00000700 / 4);
			static constexpr std::span second_bit = std::span(template_bytes + 0x00000aa8 / 4, 0x000002da8 / 4 - 0x00000aa8 / 4);
			static constexpr std::span epilogue = std::span(template_bytes + 0x000002dc0 / 4, 1);

			template<class F>
			static constexpr auto specialize(F&& f) {
				using namespace spirv;

				constexpr TypeStruct<Member<TypeRuntimeArray<Type<T1>>, 0>> strT = {};
				constexpr auto ptr_to_struct = Type<ptr<spv::StorageClassStorageBuffer, decltype(strT)>>{};
				constexpr auto vA = Variable<decltype(ptr_to_struct), spv::StorageClassStorageBuffer>(0, 0);
				constexpr auto ldA = access_chain<0u>(vA, Id(55u));
				auto A = Load(ldA);
				return spirv::ReturnValue{ f(A) };
			}

			template<class F>
			constexpr auto compile(F&& f) {
				auto [count, spirv] = spirv::SPIRVTemplate<SPIRVScan<T1>>::compile(f);
				auto new_tid = this->spvmodule.template type_id<spirv::Type<T1>>();
				auto old_tid = 14;
				std::span words = std::span(spirv.begin(), spirv.begin() + count);
				for (size_t i = 5; i < words.size();) {
					auto& word = words[i];
					auto opcode = (spv::Op)(word & spv::OpCodeMask);
					auto word_count = word >> spv::WordCountShift;

					switch (opcode) {
					case spv::OpConstant:
						if (words[i + 1] == old_tid) {
							words[i + 1] = new_tid;
						}
						break;
					case spv::OpTypeFunction:
					case spv::OpTypeRuntimeArray:
					case spv::OpTypePointer:
					case spv::OpTypeArray:
					case spv::OpFunctionCall:
					case spv::OpLoad:
					case spv::OpStore:
					case spv::OpFunction:
						spirv::replace_all_ids(std::span(&words[i + 1], word_count - 1), old_tid, new_tid);
						break;
					case spv::OpFAdd:
						if constexpr (std::is_integral_v<T1>) {
							word = spirv::op(spv::OpIAdd, word_count);
						}
						spirv::replace_all_ids(std::span(&words[i + 1], word_count - 1), old_tid, new_tid);
						break;
					case spv::OpFOrdEqual:
						if constexpr (std::is_integral_v<T1>) {
							word = spirv::op(spv::OpIEqual, word_count);
						}
						spirv::replace_all_ids(std::span(&words[i + 1], word_count - 1), old_tid, new_tid);
						break;
					default:;
					}

					i += word_count;
				}

				return std::pair(count, spirv);
			}
		};

		// TODO: to be replaced in the future with impure unary_map
		template<class T1>
		struct SPIRVScanAdd : public spirv::SPIRVTemplate<SPIRVScanAdd<T1>> {
			static constexpr const uint32_t template_bytes[] = {
				0x07230203, 0x00010400, 0x0008000a, 0x00000081, 0x00000000, 0x00020011, 0x00000001, 0x0006000b, 0x00000001, 0x4c534c47, 0x6474732e, 0x3035342e,
				0x00000000, 0x0003000e, 0x00000000, 0x00000001, 0x000b000f, 0x00000005, 0x00000004, 0x6e69616d, 0x00000000, 0x0000000f, 0x0000002c, 0x00000033,
				0x00000040, 0x00000052, 0x00000069, 0x00060010, 0x00000004, 0x00000011, 0x00000100, 0x00000001, 0x00000001, 0x00030003, 0x00000002, 0x000001c2,
				0x00040005, 0x00000004, 0x6e69616d, 0x00000000, 0x00070005, 0x0000000b, 0x656e696c, 0x695f7261, 0x7865646e, 0x33757628, 0x0000003b, 0x00030005,
				0x0000000a, 0x00006469, 0x00030005, 0x0000000d, 0x0000706d, 0x00070005, 0x0000000f, 0x4e5f6c67, 0x6f576d75, 0x72476b72, 0x7370756f, 0x00000000,
				0x00060005, 0x0000002c, 0x575f6c67, 0x476b726f, 0x70756f72, 0x00004449, 0x00050005, 0x00000031, 0x66667542, 0x6f437265, 0x00746e75, 0x00060006,
				0x00000031, 0x00000000, 0x635f6777, 0x746e756f, 0x00000000, 0x00050006, 0x00000031, 0x00000001, 0x73756e75, 0x00006465, 0x00050006, 0x00000031,
				0x00000002, 0x6e756f63, 0x00000074, 0x00030005, 0x00000033, 0x00000000, 0x00030005, 0x0000003f, 0x00646967, 0x00080005, 0x00000040, 0x475f6c67,
				0x61626f6c, 0x766e496c, 0x7461636f, 0x496e6f69, 0x00000044, 0x00040005, 0x00000041, 0x61726170, 0x0000006d, 0x00030005, 0x0000004e, 0x00003161,
				0x00050005, 0x00000050, 0x66667542, 0x754f7265, 0x00000074, 0x00050006, 0x00000050, 0x00000000, 0x646f5f67, 0x00617461, 0x00030005, 0x00000052,
				0x00000000, 0x00030005, 0x0000005a, 0x00003261, 0x00040005, 0x00000067, 0x706d6554, 0x00000000, 0x00070006, 0x00000067, 0x00000000, 0x5f74756f,
				0x635f6777, 0x746e756f, 0x00000000, 0x00060006, 0x00000067, 0x00000001, 0x5f74756f, 0x73756e75, 0x00006465, 0x00060006, 0x00000067, 0x00000002,
				0x5f74756f, 0x6e756f63, 0x00000074, 0x00050006, 0x00000067, 0x00000003, 0x65745f67, 0x0000706d, 0x00030005, 0x00000069, 0x00000000, 0x00050005,
				0x0000006d, 0x706d6574, 0x66666f5f, 0x00746573, 0x00040047, 0x0000000f, 0x0000000b, 0x00000018, 0x00040047, 0x0000002c, 0x0000000b, 0x0000001a,
				0x00040047, 0x00000030, 0x00000006, 0x00000004, 0x00040048, 0x00000031, 0x00000000, 0x00000018, 0x00050048, 0x00000031, 0x00000000, 0x00000023,
				0x00000000, 0x00040048, 0x00000031, 0x00000001, 0x00000018, 0x00050048, 0x00000031, 0x00000001, 0x00000023, 0x00000004, 0x00040048, 0x00000031,
				0x00000002, 0x00000018, 0x00050048, 0x00000031, 0x00000002, 0x00000023, 0x0000000c, 0x00030047, 0x00000031, 0x00000002, 0x00040047, 0x00000033,
				0x00000022, 0x00000000, 0x00040047, 0x00000033, 0x00000021, 0x00000004, 0x00040047, 0x00000040, 0x0000000b, 0x0000001c, 0x00040047, 0x0000004f,
				0x00000006, 0x00000004, 0x00050048, 0x00000050, 0x00000000, 0x00000023, 0x00000000, 0x00030047, 0x00000050, 0x00000002, 0x00040047, 0x00000052,
				0x00000022, 0x00000000, 0x00040047, 0x00000052, 0x00000021, 0x00000001, 0x00040047, 0x00000065, 0x00000006, 0x00000004, 0x00040047, 0x00000066,
				0x00000006, 0x00000004, 0x00040048, 0x00000067, 0x00000000, 0x00000018, 0x00050048, 0x00000067, 0x00000000, 0x00000023, 0x00000000, 0x00040048,
				0x00000067, 0x00000001, 0x00000018, 0x00050048, 0x00000067, 0x00000001, 0x00000023, 0x00000004, 0x00040048, 0x00000067, 0x00000002, 0x00000018,
				0x00050048, 0x00000067, 0x00000002, 0x00000023, 0x0000000c, 0x00040048, 0x00000067, 0x00000003, 0x00000018, 0x00050048, 0x00000067, 0x00000003,
				0x00000023, 0x00000010, 0x00030047, 0x00000067, 0x00000002, 0x00040047, 0x00000069, 0x00000022, 0x00000000, 0x00040047, 0x00000069, 0x00000021,
				0x00000002, 0x00040047, 0x0000006d, 0x00000001, 0x00000000, 0x00040047, 0x00000013, 0x0000000b, 0x00000019, 0x00020013, 0x00000002, 0x00030021,
				0x00000003, 0x00000002, 0x00040015, 0x00000006, 0x00000020, 0x00000000, 0x00040017, 0x00000007, 0x00000006, 0x00000003, 0x00040020, 0x00000008,
				0x00000007, 0x00000007, 0x00040021, 0x00000009, 0x00000006, 0x00000008, 0x00040020, 0x0000000e, 0x00000001, 0x00000007, 0x0004003b, 0x0000000e,
				0x0000000f, 0x00000001, 0x0004002b, 0x00000006, 0x00000011, 0x00000100, 0x0004002b, 0x00000006, 0x00000012, 0x00000001, 0x0006002c, 0x00000007,
				0x00000013, 0x00000011, 0x00000012, 0x00000012, 0x0004002b, 0x00000006, 0x00000015, 0x00000002, 0x00040020, 0x00000016, 0x00000007, 0x00000006,
				0x0004002b, 0x00000006, 0x0000001c, 0x00000000, 0x0004003b, 0x0000000e, 0x0000002c, 0x00000001, 0x00040020, 0x0000002d, 0x00000001, 0x00000006,
				0x0004001c, 0x00000030, 0x00000006, 0x00000015, 0x0005001e, 0x00000031, 0x00000006, 0x00000030, 0x00000006, 0x00040020, 0x00000032, 0x0000000c,
				0x00000031, 0x0004003b, 0x00000032, 0x00000033, 0x0000000c, 0x00040015, 0x00000034, 0x00000020, 0x00000001, 0x0004002b, 0x00000034, 0x00000035,
				0x00000000, 0x00040020, 0x00000036, 0x0000000c, 0x00000006, 0x00020014, 0x0000003a, 0x0004003b, 0x0000000e, 0x00000040, 0x00000001, 0x0004002b,
				0x00000034, 0x00000045, 0x00000002, 0x00030016, 0x0000004c, 0x00000020, 0x00040020, 0x0000004d, 0x00000007, 0x0000004c, 0x0003001d, 0x0000004f,
				0x0000004c, 0x0003001e, 0x00000050, 0x0000004f, 0x00040020, 0x00000051, 0x0000000c, 0x00000050, 0x0004003b, 0x00000051, 0x00000052, 0x0000000c,
				0x0004002b, 0x00000006, 0x00000055, 0x00000200, 0x00040020, 0x00000057, 0x0000000c, 0x0000004c, 0x0004001c, 0x00000065, 0x00000006, 0x00000015,
				0x0003001d, 0x00000066, 0x0000004c, 0x0006001e, 0x00000067, 0x00000006, 0x00000065, 0x00000006, 0x00000066, 0x00040020, 0x00000068, 0x0000000c,
				0x00000067, 0x0004003b, 0x00000068, 0x00000069, 0x0000000c, 0x0004002b, 0x00000034, 0x0000006a, 0x00000003, 0x00040032, 0x00000006, 0x0000006d,
				0x00000200, 0x00050036, 0x00000002, 0x00000004, 0x00000000, 0x00000003, 0x000200f8, 0x00000005, 0x0004003b, 0x00000016, 0x0000003f, 0x00000007,
				0x0004003b, 0x00000008, 0x00000041, 0x00000007, 0x0004003b, 0x0000004d, 0x0000004e, 0x00000007, 0x0004003b, 0x0000004d, 0x0000005a, 0x00000007,
				0x00050041, 0x0000002d, 0x0000002e, 0x0000002c, 0x0000001c, 0x0004003d, 0x00000006, 0x0000002f, 0x0000002e, 0x00050041, 0x00000036, 0x00000037,
				0x00000033, 0x00000035, 0x0004003d, 0x00000006, 0x00000038, 0x00000037, 0x00050082, 0x00000006, 0x00000039, 0x00000038, 0x00000012, 0x000500ae,
				0x0000003a, 0x0000003b, 0x0000002f, 0x00000039, 0x000300f7, 0x0000003d, 0x00000000, 0x000400fa, 0x0000003b, 0x0000003c, 0x0000003d, 0x000200f8,
				0x0000003c, 0x000100fd, 0x000200f8, 0x0000003d, 0x0004003d, 0x00000007, 0x00000042, 0x00000040, 0x0003003e, 0x00000041, 0x00000042, 0x00050039,
				0x00000006, 0x00000043, 0x0000000b, 0x00000041, 0x0003003e, 0x0000003f, 0x00000043, 0x0004003d, 0x00000006, 0x00000044, 0x0000003f, 0x00050041,
				0x00000036, 0x00000046, 0x00000033, 0x00000045, 0x0004003d, 0x00000006, 0x00000047, 0x00000046, 0x000500ae, 0x0000003a, 0x00000048, 0x00000044,
				0x00000047, 0x000300f7, 0x0000004a, 0x00000000, 0x000400fa, 0x00000048, 0x00000049, 0x0000004a, 0x000200f8, 0x00000049, 0x000100fd, 0x000200f8,
				0x0000004a, 0x0004003d, 0x00000006, 0x00000053, 0x0000003f, 0x00050084, 0x00000006, 0x00000054, 0x00000015, 0x00000053, 0x00050080, 0x00000006,
				0x00000056, 0x00000054, 0x00000055, 0x00060041, 0x00000057, 0x00000058, 0x00000052, 0x00000035, 0x00000056, 0x0004003d, 0x0000004c, 0x00000059,
				0x00000058, 0x0003003e, 0x0000004e, 0x00000059, 0x0004003d, 0x00000006, 0x0000005b, 0x0000003f, 0x00050084, 0x00000006, 0x0000005c, 0x00000015,
				0x0000005b, 0x00050080, 0x00000006, 0x0000005d, 0x0000005c, 0x00000012, 0x00050080, 0x00000006, 0x0000005e, 0x0000005d, 0x00000055, 0x00060041,
				0x00000057, 0x0000005f, 0x00000052, 0x00000035, 0x0000005e, 0x0004003d, 0x0000004c, 0x00000060, 0x0000005f, 0x0003003e, 0x0000005a, 0x00000060,
				0x0004003d, 0x00000006, 0x00000061, 0x0000003f, 0x00050084, 0x00000006, 0x00000062, 0x00000015, 0x00000061, 0x00050080, 0x00000006, 0x00000063,
				0x00000062, 0x00000055, 0x0004003d, 0x0000004c, 0x00000064, 0x0000004e, 0x00050041, 0x0000002d, 0x0000006b, 0x0000002c, 0x0000001c, 0x0004003d,
				0x00000006, 0x0000006c, 0x0000006b, 0x00050080, 0x00000006, 0x0000006e, 0x0000006c, 0x0000006d, 0x00050080, 0x00000006, 0x0000006f, 0x0000006e,
				0x00000012, 0x00060041, 0x00000057, 0x00000070, 0x00000069, 0x0000006a, 0x0000006f, 0x0004003d, 0x0000004c, 0x00000071, 0x00000070, 0x00050081,
				0x0000004c, 0x00000072, 0x00000064, 0x00000071, 0x00060041, 0x00000057, 0x00000073, 0x00000052, 0x00000035, 0x00000063, 0x0003003e, 0x00000073,
				0x00000072, 0x0004003d, 0x00000006, 0x00000074, 0x0000003f, 0x00050084, 0x00000006, 0x00000075, 0x00000015, 0x00000074, 0x00050080, 0x00000006,
				0x00000076, 0x00000075, 0x00000012, 0x00050080, 0x00000006, 0x00000077, 0x00000076, 0x00000055, 0x0004003d, 0x0000004c, 0x00000078, 0x0000005a,
				0x00050041, 0x0000002d, 0x00000079, 0x0000002c, 0x0000001c, 0x0004003d, 0x00000006, 0x0000007a, 0x00000079, 0x00050080, 0x00000006, 0x0000007b,
				0x0000007a, 0x0000006d, 0x00050080, 0x00000006, 0x0000007c, 0x0000007b, 0x00000012, 0x00060041, 0x00000057, 0x0000007d, 0x00000069, 0x0000006a,
				0x0000007c, 0x0004003d, 0x0000004c, 0x0000007e, 0x0000007d, 0x00050081, 0x0000004c, 0x0000007f, 0x00000078, 0x0000007e, 0x00060041, 0x00000057,
				0x00000080, 0x00000052, 0x00000035, 0x00000077, 0x0003003e, 0x00000080, 0x0000007f, 0x000100fd, 0x00010038, 0x00050036, 0x00000006, 0x0000000b,
				0x00000000, 0x00000009, 0x00030037, 0x00000008, 0x0000000a, 0x000200f8, 0x0000000c, 0x0004003b, 0x00000008, 0x0000000d, 0x00000007, 0x0004003d,
				0x00000007, 0x00000010, 0x0000000f, 0x00050084, 0x00000007, 0x00000014, 0x00000010, 0x00000013, 0x0003003e, 0x0000000d, 0x00000014, 0x00050041,
				0x00000016, 0x00000017, 0x0000000a, 0x00000015, 0x0004003d, 0x00000006, 0x00000018, 0x00000017, 0x00050041, 0x00000016, 0x00000019, 0x0000000d,
				0x00000012, 0x0004003d, 0x00000006, 0x0000001a, 0x00000019, 0x00050084, 0x00000006, 0x0000001b, 0x00000018, 0x0000001a, 0x00050041, 0x00000016,
				0x0000001d, 0x0000000d, 0x0000001c, 0x0004003d, 0x00000006, 0x0000001e, 0x0000001d, 0x00050084, 0x00000006, 0x0000001f, 0x0000001b, 0x0000001e,
				0x00050041, 0x00000016, 0x00000020, 0x0000000a, 0x00000012, 0x0004003d, 0x00000006, 0x00000021, 0x00000020, 0x00050041, 0x00000016, 0x00000022,
				0x0000000d, 0x0000001c, 0x0004003d, 0x00000006, 0x00000023, 0x00000022, 0x00050084, 0x00000006, 0x00000024, 0x00000021, 0x00000023, 0x00050080,
				0x00000006, 0x00000025, 0x0000001f, 0x00000024, 0x00050041, 0x00000016, 0x00000026, 0x0000000a, 0x0000001c, 0x0004003d, 0x00000006, 0x00000027,
				0x00000026, 0x00050084, 0x00000006, 0x00000028, 0x00000027, 0x00000012, 0x00050080, 0x00000006, 0x00000029, 0x00000025, 0x00000028, 0x000200fe,
				0x00000029, 0x00010038
			};

			static constexpr uint32_t max_id = 500;
			static constexpr std::array predef_types = { spirv::SPIRType{ spirv::type_name<spirv::Type<uint32_t>>(), 6u },
				                                           spirv::SPIRType{ spirv::type_name<spirv::Type<bool>>(), 84u },
				                                           spirv::SPIRType{ spirv::type_name<spirv::Type<float>>(), 76u } };

			static constexpr std::span prelude = std::span(template_bytes, 0x0000040 / 4);
			static constexpr std::span<const uint32_t> prologue = std::span(std::begin(template_bytes) + 0x000006c / 4, std::end(template_bytes));
			static constexpr std::span<const uint32_t> builtin_decls = {};
			static constexpr std::span<const uint32_t> second_bit = {};
			static constexpr std::span<const uint32_t> epilogue = {};

			template<class F>
			static constexpr auto specialize(F&& f) {
				using namespace spirv;

				return spirv::Id{ 0 }; // we don't embed spirv for this one
			}

			constexpr auto compile() {
				auto [count, spirv] = spirv::SPIRVTemplate<SPIRVScanAdd<T1>>::compile([]() {});
				auto new_tid = this->spvmodule.template type_id<spirv::Type<T1>>();
				auto old_tid = 76u;
				if (new_tid == old_tid) {
					return std::pair(count, spirv);
				}
				std::span words = std::span(spirv.begin(), spirv.begin() + count);
				for (size_t i = 5; i < words.size();) {
					auto& word = words[i];
					auto opcode = (spv::Op)(word & spv::OpCodeMask);
					auto word_count = word >> spv::WordCountShift;

					switch (opcode) {
					case spv::OpConstant:
						if (words[i + 1] == old_tid) {
							words[i + 1] = new_tid;
						}
						break;
					case spv::OpTypeFunction:
					case spv::OpTypeRuntimeArray:
					case spv::OpTypePointer:
					case spv::OpTypeArray:
					case spv::OpFunctionCall:
					case spv::OpLoad:
					case spv::OpStore:
					case spv::OpFunction:
						spirv::replace_all_ids(std::span(&words[i + 1], word_count - 1), old_tid, new_tid);
						break;
					case spv::OpFAdd:
						if constexpr (std::is_integral_v<T1>) {
							word = spirv::op(spv::OpIAdd, word_count);
						}
						spirv::replace_all_ids(std::span(&words[i + 1], word_count - 1), old_tid, new_tid);
						break;
					case spv::OpFOrdEqual:
						if constexpr (std::is_integral_v<T1>) {
							word = spirv::op(spv::OpIEqual, word_count);
						}
						spirv::replace_all_ids(std::span(&words[i + 1], word_count - 1), old_tid, new_tid);
						break;
					default:;
					}

					i += word_count;
				}

				return std::pair(count, spirv);
			}
		};
	} // namespace detail

	struct CountWithIndirect {
		CountWithIndirect(uint32_t count, uint32_t wg_size) : workgroup_count((uint32_t)idivceil(count, wg_size)), count(count) {}

		uint32_t workgroup_count;
		uint32_t yz[2] = { 1, 1 };
		uint32_t count;
	};

	template<class T, class F>
	inline Future scan(Context& ctx, Future src, Future dst, Future count, uint32_t max_size, const F& fn) {
		constexpr auto scan_spv_result = detail::SPIRVScan<T>().compile([](auto A) { return F{}(A); });
		static auto pbi_u = detail::static_compute_pbi(ctx, scan_spv_result.second.data(), scan_spv_result.first, "scan");
		constexpr auto scanadd_spv_result = detail::SPIRVScanAdd<T>().compile();
		static auto pbi_a = detail::static_compute_pbi(ctx, scanadd_spv_result.second.data(), scanadd_spv_result.first, "add");
		std::shared_ptr<RenderGraph> rgp = std::make_shared<RenderGraph>("scan");
		rgp->attach_in("src", std::move(src));
		if (dst) {
			rgp->attach_in("dst", std::move(dst));
		} else {
			rgp->attach_buffer("dst", Buffer{ .memory_usage = vuk::MemoryUsage::eGPUonly });
			rgp->inference_rule("dst", same_size_as("src"));
		}
		rgp->attach_in("count", std::move(count));
		if (max_size <= 512 * 512) {
			rgp->attach_buffer(
			    "temp", Buffer{ .size = (idivceil(max_size, 512) + 512) * sizeof(uint32_t) + sizeof(CountWithIndirect), .memory_usage = vuk::MemoryUsage::eGPUonly });
			rgp->add_pass({ .name = "scan",
			                .resources = { "src"_buffer >> eComputeRead,
			                               "dst"_buffer >> eComputeWrite,
			                               "temp"_buffer >> eComputeWrite,
			                               "count"_buffer >> (eComputeRW | eIndirectRead) },
			                .execute = [](CommandBuffer& command_buffer) {
				                command_buffer.bind_buffer(0, 0, "src");
				                command_buffer.bind_buffer(0, 1, "dst");
				                command_buffer.bind_buffer(0, 2, "temp");
				                command_buffer.bind_buffer(0, 4, "count");
				                command_buffer.push_constants<uint32_t>(ShaderStageFlagBits::eCompute, 0, 1u);
				                command_buffer.bind_compute_pipeline(pbi_u);
				                command_buffer.dispatch_indirect("count");
			                } });
			rgp->add_pass({ .name = "add",
			                .resources = { "dst+"_buffer >> eComputeRW, "temp+"_buffer >> eComputeRead, "count+"_buffer >> (eComputeRW | eIndirectRead) },
			                .execute = [](CommandBuffer& command_buffer) {
				                command_buffer.bind_buffer(0, 0, "src");
				                command_buffer.bind_buffer(0, 1, "dst+");
				                command_buffer.bind_buffer(0, 2, "temp+");
				                command_buffer.bind_buffer(0, 4, "count");
				                command_buffer.bind_compute_pipeline(pbi_a);
				                command_buffer.dispatch_indirect("count");
			                } });
			return { rgp, "dst++" };
		} else {
			rgp->attach_buffer(
			    "tempup",
			    Buffer{ .size = (idivceil(max_size, 512) + 512) * sizeof(uint32_t) + sizeof(CountWithIndirect), .memory_usage = vuk::MemoryUsage::eGPUonly });
			rgp->attach_buffer(
			    "tempdown",
			    Buffer{ .size = (idivceil(max_size, 512) + 512) * sizeof(uint32_t) + sizeof(CountWithIndirect), .memory_usage = vuk::MemoryUsage::eGPUonly });
			rgp->add_pass({ .name = "scan",
			                .resources = { "src"_buffer >> eComputeRead,
			                               "dst"_buffer >> eComputeWrite,
			                               "tempup"_buffer >> eComputeWrite,
			                               "count"_buffer >> (eComputeRW | eIndirectRead) },
			                .execute = [](CommandBuffer& command_buffer) {
				                command_buffer.bind_buffer(0, 0, "src");
				                command_buffer.bind_buffer(0, 1, "dst");
				                command_buffer.bind_buffer(0, 2, "tempup");
				                command_buffer.bind_buffer(0, 4, "count");
				                command_buffer.push_constants<uint32_t>(ShaderStageFlagBits::eCompute, 0, 1u);
				                command_buffer.bind_compute_pipeline(pbi_u);
				                command_buffer.dispatch_indirect("count");
			                } });
			rgp->attach_buffer(
			    "temp2",
			    Buffer{ .size = (idivceil(max_size, 512 * 512) + 512) * sizeof(uint32_t) + sizeof(CountWithIndirect), .memory_usage = vuk::MemoryUsage::eGPUonly });
			// if we are doing 3-pass (can handle up to 512 * 512 * 512), we skip final WG trick and run a new dispatch instead (which uses final WG trick)
			// we write out the third level count in the final WG trick
			// new dispatch reads from temp and uses temp2 as temporary
			// we then do one add pass into temp (temp2 -> temp)
			// then another pass into dst (temp -> dst)
			rgp->add_pass({ .name = "scan2",
			                .resources = { "tempup+"_buffer >> (eComputeRead | eIndirectRead), "tempdown"_buffer >> eComputeWrite, "temp2"_buffer >> eComputeRW },
			                .execute = [](CommandBuffer& command_buffer) {
				                command_buffer.bind_buffer(0, 0, command_buffer.get_resource_buffer("tempup+")->add_offset(sizeof(CountWithIndirect)));
				                command_buffer.bind_buffer(0, 1, command_buffer.get_resource_buffer("tempdown+")->add_offset(sizeof(CountWithIndirect)));
				                command_buffer.bind_buffer(0, 2, "temp2");
				                command_buffer.bind_buffer(0, 4, "tempup+");
				                command_buffer.push_constants<uint32_t>(ShaderStageFlagBits::eCompute, 0, 0u);
				                command_buffer.bind_compute_pipeline(pbi_u);
				                command_buffer.dispatch_indirect("tempup+");
			                } });
			rgp->add_pass({ .name = "add2",
			                .resources = { "tempdown+"_buffer >> eComputeRW, "temp2+"_buffer >> eComputeRead, "tempup+"_buffer >> (eComputeRead | eIndirectRead) },
			                .execute = [](CommandBuffer& command_buffer) {
				                command_buffer.bind_buffer(0, 1, command_buffer.get_resource_buffer("tempdown+")->add_offset(sizeof(CountWithIndirect)));
				                command_buffer.bind_buffer(0, 2, "temp2+");
				                command_buffer.bind_buffer(0, 4, "tempup+");
				                command_buffer.bind_compute_pipeline(pbi_a);
				                command_buffer.dispatch_indirect("tempup+");
			                } });
			rgp->add_pass({ .name = "add",
			                .resources = { "dst+"_buffer >> eComputeRW, "tempdown++"_buffer >> eComputeRead, "count+"_buffer >> (eComputeRead | eIndirectRead) },
			                .execute = [](CommandBuffer& command_buffer) {
				                command_buffer.bind_buffer(0, 1, "dst+");
				                command_buffer.bind_buffer(0, 2, "tempdown++");
				                command_buffer.bind_buffer(0, 4, "count+");
				                command_buffer.bind_compute_pipeline(pbi_a);
				                command_buffer.specialize_constants(0, 0);
				                command_buffer.dispatch_indirect("count+");
			                } });
			return { rgp, "dst++" };
		}
	}
} // namespace vuk